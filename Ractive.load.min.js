!function(a,b){"use strict";if("undefined"!=typeof module&&module.exports&&"function"==typeof require)b(require("Ractive"));else if("function"==typeof define&&define.amd)define(["Ractive"],b);else{if(!a.Ractive)throw new Error("Could not find Ractive! It must be loaded before the Ractive.load plugin");b(a.Ractive)}}("undefined"!=typeof window?window:this,function(a){"use strict";var b=function(a){for(var b=[],c=a.length;c--;)b[c]=a[c];return b},c=function(a){var b,c,d;return b=a.split("/"),c=b.pop(),d=c.lastIndexOf("."),-1!==d&&(c=c.substr(0,d)),c},d=function(a){return function(b){return b.getAttribute("name")||a(b.getAttribute("href"))}}(c),e=function(a,b,c){var d,e,f;if(c)b&&"/"!==b.charAt(b.length-1)&&(b+="/");else if("."!==a.charAt(0))return a;for(d=(b||"").split("/"),e=a.split("/"),d.pop();f=e.shift();)".."===f?d.pop():"."!==f&&d.push(f);return d.join("/")},f=function(b){return new a.Promise(function(a,c){var d,e,f;d=new XMLHttpRequest,d.open("GET",b),e=function(){4!==d.readyState||f||(a(d.responseText),f=!0)},d.onload=d.onreadystatechange=e,d.onerror=c,d.send(),4===d.readyState&&e()})},g=function(){return console&&"function"==typeof console.warn?function(){console.warn.apply(console,arguments)}:function(){}}(),h=function(a){return a.f},i=function(b,c){var d=/require\s*\(\s*(?:"([^"]+)"|'([^']+)')\s*\)/g;return function(e){var f,g,h,i,j,k,l,m,n,o;for(f=a.parse(e,{noStringify:!0,interpolateScripts:!1,interpolateStyles:!1}),g=[],i=[],k=[],m=[],n=f.length;n--;)o=f[n],o&&7===o.t&&("link"===o.e&&o.a&&"ractive"===o.a.rel[0]&&g.push(f.splice(n,1)[0]),"script"!==o.e||o.a&&o.a.type&&"text/javascript"!==o.a.type[0]||i.push(f.splice(n,1)[0]),"style"!==o.e||o.a&&o.a.type&&"text/css"!==o.a.type[0]||k.push(f.splice(n,1)[0]));for(h=g.map(function(a){var c,d;if(c=a.a.href&&a.a.href[0],d=a.a.name&&a.a.name[0]||b(c),"string"!=typeof d)throw new Error("Error parsing link tag");return{name:d,href:c}}),j=i.map(c).join(";");l=d.exec(j);)m.push(l[1]||l[2]);return{template:f,imports:h,script:j,css:k.map(c).join(" "),modules:m}}}(c,h),j=function(b){var c,d;if(c=a.lib[b]||window[b],!c)throw d=/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(b)?"."+b:'["'+b+'"]',new Error('Ractive.load() error: Could not find dependency "'+b+'". It should be exposed as Ractive.lib'+d+" or window"+d);return c},k=function(b,c,d){return function(e,f){return new a.Promise(function(a,g){var h=e.length,i={};e.forEach(function(e){var j;j=c(e.href,f),b(j).then(function(a){return d(a,j)}).then(function(b){i[e.name]=b,--h||a(i)},g)}),h||a(i)})}}(f,e,l),l=function(b,c,d,e){var f={},g=document.getElementsByTagName("head")[0];return function(h,i){var j;return j=c(h),e(j.imports,i).then(function(c){var e,h,i,k,l;if(e={template:j.template,css:j.css,components:c},j.script){if(h=document.createElement("script"),h.innerHTML="(function (component, Ractive, require) {"+j.script+"}(component, Ractive, require));",f.component=window.component,f.Ractive=window.Ractive,f.require=window.require,window.component=e,window.Ractive=a,window.require=d,g.appendChild(h),i=window.component.exports,"function"==typeof i)b("The function form has been deprecated. Use `component.exports = {...}` instead. You can access the `Ractive` variable if you need to."),k=i(a),k.css=j.css;else if("object"==typeof i){for(l in i)i.hasOwnProperty(l)&&(e[l]=i[l]);k=a.extend(e)}g.removeChild(h),window.component=f.component,window.Ractive=f.Ractive,window.require=f.require}else k=a.extend({template:j.template,css:j.css,components:c});return k})}}(g,i,j,k),m=function(b,c,d){var e={};return function(f,g,h){var i,j;return j=b(f,a.baseUrl,!0),e[j]||(i=c(j).then(function(a){return d(a,j)},function(a){throw a}),g&&i.then(g,h),e[j]=i),e[j]}}(e,f,l),n=function(b,c,d){return function(e,f){var g=new a.Promise(function(e,f){var g,h;g=b(document.querySelectorAll('link[rel="ractive"]')),h=g.length,g.forEach(function(b){var g=c(b);d(b.getAttribute("href")).then(function(b){a.components[g]=b,--h||e()},f)})});return e&&g.then(e,f),g}}(b,d,m),o=function(b){return function(c,d,e){var f=new a.Promise(function(a,d){var e,f,g=0,h={};f=function(e){var f=c[e];b(f).then(function(b){h[e]=b,--g||a(h)},d)};for(e in c)c.hasOwnProperty(e)&&(g+=1,f(e))});return d&&f.then(d,e),f}}(m),p=function(a,b,c){return function(d,e,f){return d&&"function"!=typeof d?"object"==typeof d?c(d,e,f):b(d,e,f):(e=d,a(e,f))}}(n,m,o);return a.lib=a.lib||{},a.load=p,p});