!function(a,b){"use strict";if("undefined"!=typeof module&&module.exports&&"function"==typeof require)b(require("Ractive"));else if("function"==typeof define&&define.amd)define(["Ractive"],b);else{if(!a.Ractive)throw new Error("Could not find Ractive! It must be loaded before the Ractive.load plugin");b(a.Ractive)}}("undefined"!=typeof window?window:this,function(a){"use strict";var b=function(){var a,b=function(a){var b,c,d;return b=a.split("/"),c=b.pop(),d=c.lastIndexOf("."),-1!==d&&(c=c.substr(0,d)),c},c=function(b){function c(a){return a.f}var d=/require\s*\(\s*(?:"([^"]+)"|'([^']+)')\s*\)/g;return function(e){var f,g,h,i,j,k,l,m,n,o;for(f=a.parse(e,{noStringify:!0,interpolateScripts:!1,interpolateStyles:!1}),g=[],i=[],k=[],m=[],n=f.length;n--;)o=f[n],o&&7===o.t&&("link"===o.e&&o.a&&"ractive"===o.a.rel[0]&&g.push(f.splice(n,1)[0]),"script"!==o.e||o.a&&o.a.type&&"text/javascript"!==o.a.type[0]||i.push(f.splice(n,1)[0]),"style"!==o.e||o.a&&o.a.type&&"text/css"!==o.a.type[0]||k.push(f.splice(n,1)[0]));for(h=g.map(function(a){var c,d;if(c=a.a.href&&a.a.href[0],d=a.a.name&&a.a.name[0]||b(c),"string"!=typeof d)throw new Error("Error parsing link tag");return{name:d,href:c}}),j=i.map(c).join(";");l=d.exec(j);)m.push(l[1]||l[2]);return{template:f,imports:h,script:j,css:k.map(c).join(" "),modules:m}}}(b),d=function(a,b){var c,d,e;if("."!==a.charAt(0))return a;for(c=(b||"").split("/"),d=a.split("/"),c.pop();e=d.shift();)".."===e?c.pop():"."!==e&&c.push(e);return c.join("/")},e=function(b,c){return function(d,e,f){var g,h,i,j,k,l,m,n,o,p,q,r;if(e=e||{},h=e.baseUrl||"",j=e.loadImport,l=e.loadModule,p=e.onerror,g=c(d),i=function(){var b,c,d,h,i,j;if(b={template:g.template,css:g.css,components:k},g.script){try{c=new Function("component","require","Ractive",g.script)}catch(l){if(q="Error creating function from component script: "+l.message||l,!p)throw new Error(q);p(q)}try{c(d={},e.require,a)}catch(l){if(q="Error executing component script: "+l.message||l,!p)throw new Error(q);p(q)}if(h=d.exports,"object"==typeof h)for(j in h)h.hasOwnProperty(j)&&(b[j]=h[j])}i=a.extend(b),f(i)},n=g.imports.length+(l?g.modules.length:0)){if(o=function(){--n||(r?i():setTimeout(i,0))},g.imports.length){if(!j)throw new Error('Component definition includes imports (e.g. `<link rel="ractive" href="'+g.imports[0].href+'">`) but no loadImport method was passed to rcu.make()');k={},g.imports.forEach(function(a){var c,d;c=a.name,d=b(h,a.href),j(c,d,function(a){k[c]=a,o()})})}l&&g.modules.length&&(m={},g.modules.forEach(function(a){var c=b(a,h);l(a,c,function(b){m[a]=b,o()})}))}else setTimeout(i,0);r=!0}}(d,c),f=function(b,c,d,e){return{init:function(b){a=b},parse:b,make:c,resolve:d,getName:e}}(c,e,d,b);return f}(),c=function(b){return new a.Promise(function(a,c){var d,e,f;d=new XMLHttpRequest,d.open("GET",b),e=function(){4!==d.readyState||f||(a(d.responseText),f=!0)},d.onload=d.onreadystatechange=e,d.onerror=c,d.send(),4===d.readyState&&e()})},d=function(b,c){function d(d){var h,i;return i=b.resolve(d,a.baseUrl),g[i]||(h=c(i).then(function(c){return new a.Promise(function(a,d){b.make(c,{baseUrl:i,loadImport:e,require:f,onerror:d},a)})}),g[i]=h),g[i]}function e(a,b,c){d(b).then(c)}function f(b){var c,d;if(c=a.lib[b]||window[b],!c)throw d=/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(b)?"."+b:'["'+b+'"]',new Error('Ractive.load() error: Could not find dependency "'+b+'". It should be exposed as Ractive.lib'+d+" or window"+d);return c}var g={};return d}(b,c),e=function(b,c){function d(a){return a.getAttribute("name")||b.getName(a.getAttribute("href"))}function e(a){for(var b=[],c=a.length;c--;)b[c]=a[c];return b}return function(){var b=new a.Promise(function(b,f){var g,h;g=e(document.querySelectorAll('link[rel="ractive"]')),h=g.length,g.forEach(function(e){var g=d(e);c(e.getAttribute("href")).then(function(c){a.components[g]=c,--h||b()},f)})});return b}}(b,d),f=function(b){return function(c){var d=new a.Promise(function(a,d){var e,f,g=0,h={};f=function(e){var f=c[e];b(f).then(function(b){h[e]=b,--g||a(h)},d)};for(e in c)c.hasOwnProperty(e)&&(g+=1,f(e))});return d}}(d),g=function(a,b,c,d){return a.init(window.Ractive),function(a){return a?"object"==typeof a?d(a):c(a):b()}}(b,e,d,f);return a.lib=a.lib||{},a.load=g,g});