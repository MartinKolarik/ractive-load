!function(a,b){"use strict";if("undefined"!=typeof module&&module.exports&&"function"==typeof require)b(require("Ractive"));else if("function"==typeof define&&define.amd)define(["Ractive"],b);else{if(!a.Ractive)throw new Error("Could not find Ractive! It must be loaded before the Ractive.load plugin");b(a.Ractive)}}("undefined"!=typeof window?window:this,function(a){"use strict";var b=function(a){var b,c=function(a){var b,c,d;return b=a.split("/"),c=b.pop(),d=c.lastIndexOf("."),-1!==d&&(c=c.substr(0,d)),c},d=function(a){function c(a){return a.f}var d=/require\s*\(\s*(?:"([^"]+)"|'([^']+)')\s*\)/g;return function(e){var f,g,h,i,j,k,l,m,n,o;for(f=b.parse(e,{noStringify:!0,interpolateScripts:!1,interpolateStyles:!1}),g=[],i=[],k=[],m=[],n=f.length;n--;)o=f[n],o&&7===o.t&&("link"===o.e&&o.a&&"ractive"===o.a.rel[0]&&g.push(f.splice(n,1)[0]),"script"!==o.e||o.a&&o.a.type&&"text/javascript"!==o.a.type[0]||i.push(f.splice(n,1)[0]),"style"!==o.e||o.a&&o.a.type&&"text/css"!==o.a.type[0]||k.push(f.splice(n,1)[0]));for(h=g.map(function(b){var c,d;if(c=b.a.href&&b.a.href[0],d=b.a.name&&b.a.name[0]||a(c),"string"!=typeof d)throw new Error("Error parsing link tag");return{name:d,href:c}}),j=i.map(c).join(";");l=d.exec(j);)m.push(l[1]||l[2]);return{template:f,imports:h,script:j,css:k.map(c).join(" "),modules:m}}}(c),e=function(){function b(a,b){b="function"==typeof b?{callback:b}:b||{},b.sourceURL&&(a+="\n//# sourceURL="+b.sourceURL);try{return e(a)}catch(h){if(g)return void d(a,b.sourceURL||"");throw f&&"SyntaxError"===h.name&&c(a),h}}function c(a){var b,c;b="data:text/javascript;charset=utf-8,"+encodeURIComponent(a),c=document.createElement("script"),c.src=b,c.onload=function(){j.removeChild(c)},j.appendChild(c)}function d(a,b){var c,d,e,f,g;if(l){e="module.exports = function () {\n"+a+"\n};",f="__eval2_"+Math.floor(1e5*Math.random())+"__",g=n.join(i,f+".js"),m.writeFileSync(g,e);try{d=h(g)}catch(j){return console.error(j),void m.unlinkSync(g,e)}m.unlinkSync(g,e),d()}else{c=new k;try{c._compile("module.exports = function () {\n"+a+"\n};",b)}catch(j){return void console.error(j)}d=c.x}d()}var e,f,g,h,i,j,k,l,m,n;return e=eval,"undefined"!=typeof document?(f=!0,j=document.getElementsByTagName("head")[0]):"undefined"!=typeof process&&(g=!0,"undefined"!=typeof a&&"function"==typeof a._compile?k=a.constructor:(l=!0,h=require.nodeRequire,m=h("fs"),n=h("path"),i="undefined"!=typeof __dirname?__dirname:n.resolve(n.dirname(a.uri)))),b.Function=function(){var a,c,d,e=[];for(a=arguments.length;a--;)e[a]=arguments[a];return c=e.pop(),d="(function ("+e.join(", ")+") {\n"+c+"\n})",b(d)},b}(),f=function(a,c){return function(d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r;if(e=e||{},i=e.url||"",k=e.loadImport,m=e.loadModule,q=e.onerror,h=a(d),j=function(){var a,d,j,k,m,n,o;if(a={template:h.template,css:h.css,components:l},h.script){try{if(j=h.script+"\n//# sourceURL="+i.substr(i.lastIndexOf("/")+1)+".js",k=new c.Function("component","require","Ractive",h.script),m={},k(m,e.require,b),n=m.exports,"object"==typeof n)for(o in n)n.hasOwnProperty(o)&&(a[o]=n[o]);d=b.extend(a)}catch(p){return void g(p)}f(d)}else d=b.extend(a),f(d)},o=h.imports.length+(m?h.modules.length:0)){if(p=function(){--o||(r?j():setTimeout(j,0))},h.imports.length){if(!k)throw new Error('Component definition includes imports (e.g. `<link rel="ractive" href="'+h.imports[0].href+'">`) but no loadImport method was passed to rcu.make()');l={},h.imports.forEach(function(a){k(a.name,a.href,i,function(b){l[a.name]=b,p()})})}m&&h.modules.length&&(n={},h.modules.forEach(function(a){m(a,a,i,function(b){n[a]=b,p()})}))}else setTimeout(j,0);r=!0}}(d,e),g=function(a,b){var c,d,e;if("."!==a.charAt(0))return a;for(c=(b||"").split("/"),d=a.split("/"),c.pop();e=d.shift();)".."===e?c.pop():"."!==e&&c.push(e);return c.join("/")},h=function(a,c,d,e){return{init:function(a){b=a},parse:a,make:c,resolve:d,getName:e}}(d,f,g,c);return h}({}),c=function(b){return new a.Promise(function(a,c){var d,e,f;d=new XMLHttpRequest,d.open("GET",b),e=function(){4!==d.readyState||f||(a(d.responseText),f=!0)},d.onload=d.onreadystatechange=e,d.onerror=c,d.send(),4===d.readyState&&e()})},d=function(b,c){function d(d,h){var i,j;return j=b.resolve(d,h),g[j]||(i=c(j).then(function(c){return new a.Promise(function(a,d){b.make(c,{url:j,loadImport:e,require:f,onerror:d},a)})}),g[j]=i),g[j]}function e(a,b,c,e){d(b,c).then(e)}function f(b){var c,d;if(c=a.lib[b]||window[b],c||"function"!=typeof require||(c=require(b)),!c)throw d=/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(b)?"."+b:'["'+b+'"]',new Error('Ractive.load() error: Could not find dependency "'+b+'". It should be exposed as Ractive.lib'+d+" or window"+d);return c}var g={};return d}(b,c),e=function(b,c){function d(a){return a.getAttribute("name")||b.getName(a.getAttribute("href"))}function e(a){for(var b=[],c=a.length;c--;)b[c]=a[c];return b}return function(b){var f=new a.Promise(function(f,g){var h,i;h=e(document.querySelectorAll('link[rel="ractive"]')),i=h.length,h.forEach(function(e){var h=d(e);c(e.getAttribute("href"),b).then(function(b){a.components[h]=b,--i||f()},g)})});return f}}(b,d),f=function(b){return function(c,d){var e=new a.Promise(function(a,e){var f,g,h=0,i={};g=function(f){var g=c[f];b(g,d).then(function(b){i[f]=b,--h||a(i)},e)};for(f in c)c.hasOwnProperty(f)&&(h+=1,g(f))});return e}}(d),g=function(b,c,d,e){b.init(a);var f=function g(a){var b=g.baseUrl;return a?"object"==typeof a?e(a,b):d(a,b):c(b)};return f.baseUrl="",f}(b,e,d,f);return a.lib=a.lib||{},a.load=g,g});